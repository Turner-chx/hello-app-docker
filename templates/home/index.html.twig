{% extends 'base.html.twig' %}

{% block title %}{{ 'app.form.title.meta_title'|trans }}{% endblock %}

{% trans_default_domain 'messages' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/main.css') }}">
    {% if null != source.color %}
        <style>
            body, html {
                background-color: {{ source.color }};
            }
        </style>
    {% endif %}
{% endblock %}

{% block body %}
    <div class="container-fluid">
        <div class="">
            <div class="row" style="min-height:120px;">
                <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12 offset-md-3 offset-sm-3 offset-lg-3 offset-xs-0">
                    <div class="row">
                        <div class="col-md-4 col-lg-4 col-sm-4 col-xs-12 container-logo" style="line-height: 120px;">
                            {% if null != source.image %}
                                <img class="logo" src="{{ vich_uploader_asset(source.image, 'file') }}" alt="Logo">
                            {% else %}
                                <img class="logo" src="{{ asset('images/frontend/logo.svg') }}" alt="Logo">
                            {% endif %}
                        </div>
                        <div class="col-md-8 col-lg-8 col-sm-8 col-xs-12 container-title">
                            <h1 style="line-height: 120px;">{{ 'app.form.title.meta_title'|trans }}</h1>
                        </div>
                    </div>
                </div>
            </div>
            <iframe id="iframe"
                    src="{{ absolute_url(path('sav_contact')) }}">
            </iframe>
        </div>
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript">
        window.onmessage = (e) => {
            if (e.data.hasOwnProperty("frameHeight")) {
                document.getElementById("iframe").style.height = `${e.data.frameHeight + 200}px`;
            }
        };
    </script>
    <script>
        window.axeptioSettings= {
            clientId:"60c22a6c738e6c44690bdf49",
        };

        (function(d,s) {
            var t = d.getElementsByTagName(s)[0],e = d.createElement(s);
            e.async = true;e.src = "//static.axept.io/sdk.js";
            t.parentNode.insertBefore(e, t);
        })(document, "script");
    </script>
{% endblock %}
